# Contributor: mosra <mosra@centrum.cz>

_pkgname=basis_universal
pkgname=basis-universal-src
pkgver=09e71afedfc253ad3c6b8f795fbe9defadaede70
pkgrel=1
pkgdesc="Basis Universal GPU Texture Codec (sources)"
arch=('any')
url="https://github.com/BinomialLLC/basis_universal"
license=("MIT")
source=("https://github.com/BinomialLLC/${_pkgname}/archive/${pkgver}.tar.gz")
md5sums=('2113cd1cb466bc44c73935b95aa1129a')

build() {
    true
}

package() {
    cd "$srcdir/$_pkgname-$pkgver"

    install -m755 -d $pkgdir/opt/basis-universal/transcoder
    for i in basisu_file_headers.h basisu_global_selector_cb.h basisu_global_selector_palette.h basisu_transcoder_internal.h basisu_transcoder_tables_bc7_m6.inc basisu_transcoder_tables_dxt1_5.inc basisu_transcoder_tables_dxt1_6.inc basisu_transcoder.{cpp,h} basisu.h; do
        install -m644 transcoder/$i $pkgdir/opt/basis-universal/transcoder/$i
    done

    install -m755 -d $pkgdir/opt/basis-universal
    for i in basisu_backend.{cpp,h} basisu_basis_file.{cpp,h} basisu_comp.{cpp,h} basisu_enc.{cpp,h} basisu_etc.{cpp,h} basisu_frontend.{cpp,h} basisu_global_selector_palette_helpers.{cpp,h} basisu_gpu_texture.{cpp,h} basisu_pvrtc1_4.{cpp,h} basisu_resample_filters.cpp basisu_resampler_filters.h  basisu_resampler.{cpp,h} basisu_ssim.{cpp,h} lodepng.{cpp,h}; do
        install -m644 $i $pkgdir/opt/basis-universal/$i
    done
}
